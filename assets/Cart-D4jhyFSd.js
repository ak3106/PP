import{u as y,i as N,r as g,j as e,S as u,X as w,d as v}from"./index-DOtjrhYQ.js";import{B as c}from"./Button-CPsMlY80.js";import{A as T,M as k,P as S}from"./plus-D9yOev8o.js";import{T as C,P as A}from"./trash-2-6WRj_Tqq.js";import{C as E}from"./circle-check-big-Dt1H1cxA.js";const O=()=>{const d=y(),{cart:t,dispatchCart:x}=N(),[i,a]=g.useState(null),n=g.useMemo(()=>t.reduce((s,l)=>s+l.price*l.quantity,0),[t]),b=100,m=n*.05,o=n>0?b:0,f=n+m+o,r=s=>`â‚¹${Math.round(s).toLocaleString("en-IN")}`,h=(s,l)=>{l<=0?p(s):x({type:"UPDATE_QUANTITY",payload:{itemId:s,quantity:l}})},p=s=>{x({type:"REMOVE_ITEM",payload:{itemId:s}}),a({message:"Item removed from cart.",type:"danger"}),setTimeout(()=>a(null),3e3)},j=()=>{t.length>0?d("/checkout"):(a({message:"Your cart is empty! Please add items before checking out.",type:"warning"}),setTimeout(()=>a(null),3e3))};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 min-h-[80vh]",children:[e.jsxs("h1",{className:"text-4xl font-extrabold text-gray-900 mb-8 border-b pb-2 flex items-center",children:[e.jsx(u,{className:"w-8 h-8 mr-3 text-indigo-600"})," Your Shopping Cart"]}),i&&e.jsxs("div",{className:`p-4 mb-4 rounded-xl shadow-lg flex items-center justify-between animate-fadeInUp 
          ${i.type==="danger"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[e.jsx("span",{children:i.message}),e.jsx(w,{className:"w-5 h-5 cursor-pointer",onClick:()=>a(null)})]}),t.length===0?e.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-2xl shadow-lg border-4 border-dashed border-gray-300",children:[e.jsx(u,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl text-gray-600 font-semibold",children:"Your cart is empty!"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Time to fill it with awesome prints."}),e.jsxs(c,{onClick:()=>d("/products"),className:"mt-6",children:[e.jsx(T,{className:"w-4 h-4 mr-2"})," Start Shopping"]})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.map(s=>e.jsxs("div",{className:"flex flex-col sm:flex-row items-center bg-white p-4 rounded-2xl shadow-xl border border-gray-100 transition duration-300 hover:shadow-2xl",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0 overflow-hidden rounded-xl mr-4 mb-4 sm:mb-0 border border-gray-200",children:e.jsx("img",{src:s.product.thumbnail||s.product.images?.[0]||"https://placehold.co/100x100/e0e7ff/1e40af?text=PR",alt:s.product.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:s.product.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[e.jsxs("span",{className:"font-semibold text-indigo-500",children:["Size: ",s.selectedSize]})," |",e.jsxs("span",{className:"font-semibold text-indigo-500",children:[" Type: ",s.selectedType]})]}),e.jsx("p",{className:"text-xl font-bold text-indigo-600",children:r(s.price*s.quantity)})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0 sm:ml-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-xl",children:[e.jsx("button",{onClick:()=>h(s.itemId,s.quantity-1),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-l-xl transition","aria-label":"Decrease quantity",children:e.jsx(k,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center text-md font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>h(s.itemId,s.quantity+1),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-r-xl transition","aria-label":"Increase quantity",children:e.jsx(S,{className:"w-4 h-4"})})]}),e.jsx(c,{variant:"danger",onClick:()=>p(s.itemId),className:"p-3 ml-4",children:e.jsx(C,{className:"w-5 h-5"})})]})]},s.itemId)),e.jsxs("div",{className:"p-4 bg-gray-100 rounded-xl text-gray-600 flex items-center shadow-inner",children:[e.jsx(A,{className:"w-5 h-5 mr-3 flex-shrink-0 text-indigo-600"}),"Shipping is estimated. Final cost confirmed upon entering address in checkout."]})]}),e.jsxs("div",{className:"lg:col-span-1 sticky top-24 h-fit bg-indigo-50 p-6 rounded-3xl shadow-2xl border border-indigo-100 animate-fadeInRight",children:[e.jsx("h2",{className:"text-2xl font-bold text-indigo-800 mb-4 border-b border-indigo-200 pb-3",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 text-gray-700 text-md mb-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Subtotal (",t.length," unique items)"]}),e.jsx("span",{className:"font-semibold",children:r(n)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Estimated Shipping"}),e.jsx("span",{className:"font-semibold",children:o>0?r(o):"FREE"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxes (5% GST)"}),e.jsx("span",{className:"font-semibold",children:r(m)})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t border-indigo-200 text-xl font-extrabold text-indigo-900",children:[e.jsx("span",{children:"Grand Total"}),e.jsx("span",{children:r(f)})]})]}),e.jsxs(c,{onClick:j,className:"w-full py-3 text-lg mt-4 flex items-center justify-center",disabled:t.length===0,children:[e.jsx(E,{className:"w-5 h-5 mr-2"})," Proceed to Checkout"]}),e.jsxs("div",{className:"mt-6 text-xs text-gray-500 flex items-center justify-center border-t border-indigo-200 pt-4",children:[e.jsx(v,{className:"w-4 h-4 mr-2 flex-shrink-0"}),'Option to "Pay at Store" available at checkout.']})]})]})]})};export{O as default};
